<!doctype HTML>
<html>
  <head>
    <title>JS Games</title>
	<link rel="icon" 
      type="image/png" 
      href="assets/logo.png">
  </head>
  <script>
	  var off = false;
if(off == true){
	location.replace('offlineMessage.html');
}
  </script>
  <style>
	  body{
		  background-color:grey;
		  background-image:url('assets/img/bg.jpg');
		  background-size:100% auto;
	  }
    @font-face{
      font-family:font1;
      src:url('Steinberg.ttf');
    }
    td{
     border:none;
     width:auto; 
    }
    .gameTile{
      width:80%;
      height:auto;
      background-color:transparent;
	  color:white;
	  font-size:1em;
      
    }
    .gameTile_img{
      width:30%;
      border:1px solid dimgrey;
    }
    a{
      color:black;
      text-decoration:none;
    }
    *{
      font-family:font1;
    }
    body{
      margin:2%;
    }
	table:hover{
		background-color:rgba(200,200,200,0.3);
		color:black;
	}
	#mainHeader:hover{
		background-color:black;
		color:white;
	}
	.btn:hover{
		background-color:lightgrey;
		color:black;
	}
	#tbl{
		background-color:black;
		color:white;
	}
	.menu_tr{
		color:white;
	}
	table{
		border-bottom:0.01em solid black;
	}
  </style>
  <body>
    <header id='head' style='position:fixed;top:0%;left:0%;height:10%;width:100%;background-color:black;'>
		<table id='mainHeader' style='width:100%'><tr><td>
		<button onclick='toggleMenu();'>MENU</button></td><td>
      <h1 style='font-size:1em;color:white;text-align:center;'>Javascript Games and Programs</h1></td>
	  </table>
      <hr>
    </header>
    
        <div id='menu' style=' visibility:hidden;position:fixed;top:0%;left:0%;height:100%;width:20%;background-color:black;'>

<table id='tbl' style='color:white;position:absolute;top:0%;left:0%;width:100%;height:100%;font-size:1.6em;overflow:hidden;'>
	<tr><td><img src='assets/menu_icon.png' style='width:100%;'/></td>
<tr class='menu_tr'><td onclick='location.replace("index.html");'>Home</td>
<tr class='menu_tr'><td><a  class='menu_tr' href='https://editor.p5js.org/D4LH5D/sketches'>Code</a></td>
<tr class='menu_tr'><td><a  class='menu_tr' href='favourites.html' hidden>Mindustry</a></td>
<tr class='menu_tr'><td><a  class='menu_tr'href='settings.html'>Settings</a></td>

	</table>




      </div>
      <div id='main' style='position:fixed;top:20%;left:22%;width:80%;height:75%;overflow:scroll;'>
        
      </div>
    
    <footer hidden style='position:absolute;bottom:0%;left:20%;width:80%;height:5%;'>
      <hr>
      This site is still under construction. (c) Daniel Harwood 2021
      </footer>
	  <div id='viw' style='visibility:hidden;position:fixed;top:0%;left:20%;width:80%;height:100%;background-color:white;'>

		  </div>
  </body>
  <script>
	  var menu_show = false;
	  function toggleMenu(){
		  if(menu_show == false){
			  document.getElementById('menu').style.visibility = 'visible';
			  document.getElementById('head').style.left = '22%';
			menu_show = true;
			return;
		  }
		  if(menu_show == true){
			  document.getElementById('menu').style.visibility = 'hidden';
			  			  document.getElementById('head').style.left = '0%';
							menu_show = false;
		  }
	  }
	  	  var games = ['Reg Plate Generator','Invade','Train sim 2021','Bus company manager','Crossy Road','Frog','Haunted House','Haunted House Multiplayer','Dodge','Pixel Art','Cannons','ESI - Egg Supply Industry'];
			var gameN = ['reg','invade','trainsim','busco','crossyroad','frog','Hhouse','Hhouse','dodge','pixelArt','cannons','esi'];
var gamesrcs=[
	'https://editor.p5js.org/D4LH5D/present/alkN8l_6l',
	'https://editor.p5js.org/D4LH5D/present/37wYRQaxq',
'https://editor.p5js.org/D4LH5D/present/kvaDjMW0K',
'https://editor.p5js.org/D4LH5D/present/OEXM0QxtM',
'https://editor.p5js.org/D4LH5D/present/Y_4qd3U-5',
'https://editor.p5js.org/D4LH5D/present/ZKPsUybqF',
'https://editor.p5js.org/D4LH5D/present/g-uBIY4Cp',
'https://editor.p5js.org/D4LH5D/present/vXZQ1pq_I',
'https://editor.p5js.org/D4LH5D/present/TWmLeFaEd',
'https://editor.p5js.org/D4LH5D/present/U6cPP6E9B',
'https://editor.p5js.org/D4LH5D/present/9BPb1vI5D',
'https://editor.p5js.org/D4LH5D/present/kJBrvP_AV',
];
var gameDesc=[
	'Generate Registration Plates and download as a png',
'A 2 player maze game',
'A 3D train driving game.',
'Manage your own bus company',
'Javascript crossy road',
'A simpler but more difficult version of Crossy Road',
'Escape the ghosts and get to the door.',
'Escape the ghosts and get to the door before the other players.',
'Avoid falling items',
'Pixel art editor',
'2 player shooting game.',
'Manage your own chicken farm.'
];

for(var i = 0;i<games.length;i++){
	
	document.getElementById('main').innerHTML += "<a onclick='view("+i+")'><table class='gameTile' onclick=''><tr><td rowspan='2'><img src='assets/img/"+gameN[i]+".png' class='gameTile_img'/></td><td>"+games[i]+"</td><tr><td style='color:lightgrey;'>"+gameDesc[i]+"</td></table><br>";
}
function view(e){
	fav[e][0] +=1;
	//alert(fav[e][0]);
	
	document.getElementById('viw').style.visibility='visible';
	document.getElementById('viw').innerHTML = "<img src='assets/img/"+gameN[e]+"_screenshot.png' style='position:absolute;top:1%;left:1%;width:98%;height:30%;'/><div id='description' style='position:absolute;top:31%;left:1%;width:98%;height:58%;background-color:white;'><h2>"+games[e]+"</h2><hr><p>"+gameDesc[e]+"</p></div><a href='"+gamesrcs[e]+"'><button onclick='show("+e+");' style='position:absolute;bottom:10%;left:35%;width:30%;height:10%;background-color:lime;border:none;transform:skew(2deg);'>Play</button></a>";
	//alert(document.getElementById('viw').innerHTML);
	saveFav();
}
function saveFav(){
	localStorage.d4lh5d_fav = JSON.stringify(fav);
}
function show(e){
	
}
var fav = [];
var storedFav = localStorage.d4lh5d_fav;
storedFav = 'reset';
if(storedFav == undefined || storedFav == 'reset'){
	for(var i =0;i<games.length;i++){
		fav.push([0,games[i],gamesrcs[i],gameN[i],gameDesc[i]]);
	}
	localStorage.d4lh5d_fav = JSON.stringify(fav);
	//alert(fav);
}
else{
	fav = JSON.parse(storedFav);
}

//alert(fav);
	  //Notification.requestPermission().then(function(result) {
  //alert(result);
  //var img = 'assets/logo.png';
//var text = 'HEY! A new game is available...';
//var notification = new Notification('JS Games', { body: text, icon: img });
//});

  </script>
</html>
