<!doctype HTML>
<html>
  <head>
    <title>JS Games</title>
	<link rel="icon" 
      type="image/png" 
      href="assets/logo.png">
  </head>
  <style>
	  body{
		  background-color:grey;
	  }
    @font-face{
      font-family:font1;
      src:url('Steinberg.ttf');
    }
    td{
     border:none;
     width:auto; 
    }
    .gameTile{
      width:40%;
      height:10%;
      background-color:white;
      
    }
    .gameTile_img{
      height:20%;
      border:1px solid dimgrey;
    }
    a{
      color:black;
      text-decoration:none;
    }
    *{
      font-family:font1;
    }
    body{
      margin:2%;
    }
	table:hover{
		background-color:lightgrey;
	}
	.btn:hover{
		background-color:lightgrey;
	}
	#tbl{
		background-color:black;
		color:white;
	}
	.menu_tr{
		color:white;
	}
  </style>
  <body>
    <header style='position:fixed;top:0%;left:22%;height:10%;width:80%;'>
      <h1>JS Games</h1>
      <hr>
    </header>
    
        <div id='menu' style='position:fixed;top:0%;left:0%;height:100%;width:20%;background-color:black;'>
<img src='assets/menu_icon.png' style='position:absolute;top:0%;left:0%;width:100%;'/>
<table id='tbl' style='color:white;position:absolute;top:40%;left:0%;width:100%;height:auto;font-size:1.6em;overflow:hidden;'>
<tr class='menu_tr'><td onclick='location.replace("index.html");'>Home</td>
<tr class='menu_tr'><td><a  class='menu_tr' href='code.html'>Code</a></td>
<tr class='menu_tr'><td><a  class='menu_tr' href='favourites.html'>Favourites</a></td>
<tr class='menu_tr'><td><a  class='menu_tr'href='settings.html'>Settings</a></td>

	</table>



<a href='favourites.html'><button class='btn' style='position:absolute;top:50%;left:0%;width:100%;height:5%;background-color:transparent;border:none;font-size:2em;font-family:font1;' hidden>My Favourites</button></a>

<a href='settings.html'><button class='btn' style='position:absolute;top:95%;left:0%;width:100%;height:5%;background-color:transparent;border:none;font-size:2em;font-family:font1;border-top:2px solid white;' >Settings</button></a>
      </div>
      <div id='main' style='position:fixed;top:20%;left:22%;width:80%;height:75%;overflow:scroll;'>
        
      </div>
    
    <footer style='position:absolute;bottom:0%;left:20%;width:80%;height:5%;'>
      <hr>
      This site is still under construction. (c) Daniel Harwood 2020
      </footer>
	  <div id='viw' style='visibility:hidden;position:fixed;top:0%;left:20%;width:80%;height:100%;background-color:white;'>

		  </div>
  </body>
  <script>
	  	  var games = ['Invade','Train sim 2021','Bus company manager','Crossy Road','Frog','Haunted House','Haunted House Multiplayer','Dodge','Pixel Art','Cannons'];
			var gameN = ['invade','trainsim','busco','crossyroad','frog','Hhouse','Hhouse','dodge','pixelArt','cannons'];
var gamesrcs=[
	'https://editor.p5js.org/D4LH5D/present/37wYRQaxq',
'https://editor.p5js.org/D4LH5D/present/kvaDjMW0K',
'https://editor.p5js.org/D4LH5D/present/OEXM0QxtM',
'https://editor.p5js.org/D4LH5D/present/Y_4qd3U-5',
'https://editor.p5js.org/D4LH5D/present/ZKPsUybqF',
'https://editor.p5js.org/D4LH5D/present/g-uBIY4Cp',
'https://editor.p5js.org/D4LH5D/present/vXZQ1pq_I',
'https://editor.p5js.org/D4LH5D/present/TWmLeFaEd',
'https://editor.p5js.org/D4LH5D/present/U6cPP6E9B',
'https://editor.p5js.org/D4LH5D/present/9BPb1vI5D',
];
var gameDesc=[
'A 2 player maze game',
'A 3D train driving game.',
'Manage your own bus company',
'Javascript crossy road',
'A simpler but more difficult version of Crossy Road',
'Escape the ghosts and get to the door.',
'Escape the ghosts and get to the door before the other players.',
'Avoid falling items',
'Pixel art editor',
'2 player shooting game.',
];

for(var i = 0;i<games.length;i++){
	
	document.getElementById('main').innerHTML += "<a onclick='view("+i+")'><table class='gameTile' onclick=''><tr><td rowspan='2'><img src='assets/img/"+gameN[i]+".png' class='gameTile_img'/></td><td>"+games[i]+"</td><tr><td>"+gameDesc[i]+"</td></table><br>";
}
function view(e){
	fav[e][0] +=1;
	//alert(fav[e][0]);
	
	document.getElementById('viw').style.visibility='visible';
	document.getElementById('viw').innerHTML = "<img src='assets/img/"+gameN[e]+"_screenshot.png' style='position:absolute;top:1%;left:1%;width:98%;height:30%;'/><div id='description' style='position:absolute;top:31%;left:1%;width:98%;height:58%;background-color:white;'><h2>"+games[e]+"</h2><hr><p>"+gameDesc[e]+"</p></div><a href='"+gamesrcs[e]+"'><button onclick='show("+e+");' style='position:absolute;bottom:10%;left:35%;width:30%;height:10%;background-color:lime;'>Play</button></a>";
	//alert(document.getElementById('viw').innerHTML);
	saveFav();
}
function saveFav(){
	localStorage.d4lh5d_fav = JSON.stringify(fav);
}
function show(e){
	
}
var fav = [];
var storedFav = localStorage.d4lh5d_fav;
storedFav = 'reset';
if(storedFav == undefined || storedFav == 'reset'){
	for(var i =0;i<games.length;i++){
		fav.push([0,games[i],gamesrcs[i],gameN[i],gameDesc[i]]);
	}
	localStorage.d4lh5d_fav = JSON.stringify(fav);
	//alert(fav);
}
else{
	fav = JSON.parse(storedFav);
}

//alert(fav);
	  //Notification.requestPermission().then(function(result) {
  //alert(result);
  //var img = 'assets/logo.png';
//var text = 'HEY! A new game is available...';
//var notification = new Notification('JS Games', { body: text, icon: img });
//});

  </script>
</html>
